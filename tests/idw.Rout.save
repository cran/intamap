
R version 2.15.3 (2013-03-01) -- "Security Blanket"
Copyright (C) 2013 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(intamap)
Loading required package: sp
Loading required package: gstat
Loading required package: akima
Loading required package: automap
Loading required package: mvtnorm
Loading required package: MASS
Loading required package: evd
Loading required package: lattice

Attaching package: 'lattice'

The following object(s) are masked from 'package:evd':

    qq

> 
> set.seed(13131)
> 
> # set up data:
> data(meuse)
> coordinates(meuse) = ~x+y
> meuse$value = log(meuse$zinc)
> data(meuse.grid)
> gridded(meuse.grid) = ~x+y
> proj4string(meuse) = CRS("+init=epsg:28992")
> proj4string(meuse.grid) = CRS("+init=epsg:28992")
> 
> # set up intamap object:
> idwObject = createIntamapObject(
+ 	observations = meuse,
+ 	formulaString=as.formula(zinc~1),
+   predictionLocations = meuse.grid,
+ 	targetCRS = "+init=epsg:3035",
+ 	constantBias = 0,
+ 	classes = "idw"
+ )
Loading required package: rgdal
rgdal: version: 0.8-5, (SVN revision 449)
Geospatial Data Abstraction Library extensions to R successfully loaded
Loaded GDAL runtime: GDAL 1.9.2, released 2012/10/08
Path to GDAL shared files: C:/Program Files/R/R-2.15.3/library/rgdal/gdal
GDAL does not use iconv for recoding strings.
Loaded PROJ.4 runtime: Rel. 4.7.1, 23 September 2009, [PJ_VERSION: 470]
Path to PROJ.4 shared files: C:/Program Files/R/R-2.15.3/library/rgdal/proj
> 
> # run test:
> checkSetup(idwObject)
Checking object ... OK
> 
> # do interpolation steps:
> idwObject = preProcess(idwObject)
> idwObject = estimateParameters(idwObject, idpRange = seq(0.25,2.75,.5), nfold=3) # faster
  |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
  |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
  |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
  |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
  |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
  |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
[1] "best idp value found is 2.25 rmse 277.246436580228"
> idwObject = spatialPredict(idwObject)
> idwObject = postProcess(idwObject)
Warning message:
In rgdal::spTransform(object$predictions, CRS(object$targetCRS)) :
  Grid warping not available, coercing to points
> 
> # generate some output:
> summary(as.data.frame(idwObject$outputTable))
       x                 y                mean       
 Min.   :4020608   Min.   :3102661   Min.   : 116.6  
 1st Qu.:4021592   1st Qu.:3103493   1st Qu.: 253.4  
 Median :4022185   Median :3104228   Median : 344.4  
 Mean   :4022205   Mean   :3104338   Mean   : 411.2  
 3rd Qu.:4022811   3rd Qu.:3105090   3rd Qu.: 511.9  
 Max.   :4023872   Max.   :3106651   Max.   :1827.1  
> 
> proc.time()
   user  system elapsed 
   2.12    0.17    2.27 
